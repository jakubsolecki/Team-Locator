#:include teammapview.kv

<WindowManager>:
    MapWindow:
        id:mw
    TokenWindow:


<MapWindow>:
    name: "viewer"

    GridLayout:
        cols: 1

        GridLayout:
            cols: 1

            TeamMapView:
                id: map

        Button:
            text: "Show full team"
            on_release: map.show_full_team()
            size: root.width, root.height * 0.1
            size_hint: None, None

        Button:
            text: "Leave"
            on_release: app.root.current = "menu"
            size: root.width, root.height * 0.1
            size_hint: None, None


<TokenWindow>:
    name: "menu"

    GridLayout:
        cols: 1

        TextInput:
            id: nickname
            multiline: False

        TextInput:
            id: ip
            multiline: False

        TextInput:
            id: token
            multiline: False
        GridLayout:
            cols: 2
            Button:
                text: "Connect BLUE"
                on_release: app.root.current = "viewer"
            Button:
                text: "Connect RED"
                on_release: app.root.current = "viewer"

        Button:
            text: "Generate new token"