#:include teammapview.kv

<WindowManager>:
    TokenWindow:
    HostWindow:
    MapWindow:
        id:mw

<HostWindow>:
    switch: switch
    slider: slider
    tv: tv
    name: "host"

    GridLayout:
        cols: 1

        Label:
            text: "Tworzenie gry"
        GridLayout:
            cols: 2
            Label:
                text: "Host widoczny:"
            Switch:
                id: switch

        Slider:
            id: slider
            min: 0
            max: 10
            step: 1
            on_touch_up: root.createNodes()

        TreeView:
            id: tv
            size: root.width, root.height * 0.6
            size_hint: None, None


        Button:
            text: "Connect"
            on_release: root.sendToServer()

        Button:
            text: "Go back"
            on_release: app.root.current = "menu"




<MapWindow>:
    name: "viewer"

    GridLayout:
        cols: 1

        GridLayout:
            cols: 1

            TeamMapView:
                id: map

        Button:
            text: "Show full team"
            on_release: map.show_full_team()
            size: root.width, root.height * 0.1
            size_hint: None, None

        Button:
            text: "Leave"
            on_release: app.root.current = "menu"
            size: root.width, root.height * 0.1
            size_hint: None, None


<TokenWindow>:
    name: "menu"

    GridLayout:
        cols: 1

        TextInput:
            id: nickname
            multiline: False

        TextInput:
            id: password
            multiline: False


        GridLayout:
            cols: 2
            Button:
                text: "Connect Game"
                on_release: app.root.current = "viewer"
            Button:
                text: "Host Game"
                on_release: app.root.current = "host"

        #Button:
        #    text: "Generate new token"