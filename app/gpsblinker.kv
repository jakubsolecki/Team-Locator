#:include kivy.metrics

<GpsBlinker>:
    default_blink_size: 25
    blink_size: 20
    source: 'transparent.png'
    outer_opacity: 1

    is_open: True
    popup_size: [10,-40]

    canvas.before:
        # Animated circle
        Color:
            rgba: root.animColor
        RoundedRectangle:
            radius: root.blink_size/2.0 * root.sp, 0
            size: root.blink_size * root.sp, root.blink_size * root.sp
            pos: root.pos[0] + root.size[0]/2.0 * root.sp - root.blink_size/2.0 * root.sp, root.pos[1] + root.size[1]/2.0 * root.sp - root.blink_size/2.0 * root.sp
        # Inner Circle
        Color:
            rgba: root.color
        RoundedRectangle:
            radius: root.default_blink_size/2.0 * root.sp, 0
            size: root.default_blink_size * root.sp, root.default_blink_size * root.sp
            pos: root.pos[0] + root.size[0]/2.0 * root.sp - root.default_blink_size/2.0 * root.sp, root.pos[1] + root.size[1]/2.0 * root.sp - root.default_blink_size/2.0 * root.sp

    Label:
        text: root.nick
        outline_color: root.color
        outline_width: '4sp'
        font_size: '13sp'
